<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Energy Cost Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 text-gray-900">
  <div class="max-w-3xl mx-auto p-6">
    <h1 class="text-3xl font-bold mb-2">AI Energy Cost Calculator</h1>
    <p class="mb-6 text-gray-600">
      Estimate the energy consumption and carbon footprint of AI inference.
    </p>

    <!-- Model -->
    <label class="block mb-2 font-semibold">Model</label>
    <select id="model" class="w-full p-2 mb-4 border rounded"></select>

    <!-- Tokens -->
    <label class="block mb-2 font-semibold">Prompt tokens</label>
    <input id="tokensInput" type="number" value="500"
      class="w-full p-2 mb-4 border rounded"/>

    <label class="block mb-2 font-semibold">Response tokens</label>
    <input id="tokensOutput" type="number" value="500"
      class="w-full p-2 mb-4 border rounded"/>

    <!-- Reasoning -->
    <label class="block mb-2 font-semibold">Reasoning complexity</label>
    <select id="reasoning" class="w-full p-2 mb-4 border rounded">
      <option value="simple">Simple</option>
      <option value="standard">Standard</option>
      <option value="complex">Complex</option>
      <option value="very_complex">Very complex</option>
    </select>

    <!-- Region -->
    <label class="block mb-2 font-semibold">Region</label>
    <select id="region" class="w-full p-2 mb-6 border rounded">
      <option value="FR">France</option>
      <option value="EU">Europe</option>
      <option value="US">United States</option>
    </select>

    <button onclick="calculate()"
      class="w-full bg-black text-white p-3 rounded font-semibold">
      Calculate
    </button>

    <!-- Results -->
    <div id="results" class="mt-6 hidden bg-white p-4 rounded shadow">
      <h2 class="text-xl font-bold mb-2">Results</h2>
      <p id="energy"></p>
      <p id="co2"></p>
    </div>
  </div>

<script>
const BASE_ENERGY_PER_TOKEN = 0.0000006;

const models = {
  "GPT-4": { complexity: 1.8, efficiency: 0.85 },
  "GPT-4 Turbo": { complexity: 1.5, efficiency: 0.9 },
  "Claude 3 Opus": { complexity: 1.6, efficiency: 0.88 },
  "Claude 3 Sonnet": { complexity: 1.1, efficiency: 0.9 },
  "LLaMA 3 70B": { complexity: 0.85, efficiency: 0.95 },
  "Mixtral 8x22B": { complexity: 1.1, efficiency: 0.88 },
  "Mistral 7B": { complexity: 0.14, efficiency: 1.0 },
  "Falcon 180B": { complexity: 1.3, efficiency: 0.9 }
};

const reasoningLevels = {
  simple: 1.0,
  standard: 1.2,
  complex: 1.5,
  very_complex: 1.8
};

const regions = {
  FR: 55,
  EU: 275,
  US: 385
};

// Populate model list
const modelSelect = document.getElementById("model");
Object.keys(models).forEach(m => {
  const option = document.createElement("option");
  option.value = m;
  option.textContent = m;
  modelSelect.appendChild(option);
});

function calculate() {
  const tokens =
    Number(tokensInput.value) + Number(tokensOutput.value);
  const model = models[model.value];
  const reasoningFactor = reasoningLevels[reasoning.value];
  const carbon = regions[region.value];

  const energyWh =
    tokens *
    BASE_ENERGY_PER_TOKEN *
    model.complexity *
    reasoningFactor *
    model.efficiency;

  const energyKWh = energyWh / 1000;
  const co2 = energyKWh * carbon;

  document.getElementById("results").classList.remove("hidden");
  document.getElementById("energy").textContent =
    `‚ö° Energy: ${energyWh.toFixed(6)} Wh`;
  document.getElementById("co2").textContent =
    `üåç CO‚ÇÇ: ${co2.toFixed(4)} g`;
}
</script>
</body>
</html>
